<div>
  <h2>Your Projects</h2>
  {{#await $projectList}}
    <p>Waiting for project list...</p>
  {{then projects}}
      {{#if projects.length === 0}}
        <p>You don't have any projects yet.</p>
      {{else}}
        {{#each projects as project}}
          <Link to="/project/{{project.id}}">
            {{project.fields.name}}
          </Link>
        {{/each}}
      {{/if}}
      <Link to="/new-project"><strong>âž• New project</strong></Link>
  {{catch err}}
    <p>Error getting project names</p>
  {{/await}}
</div>

<style>
  div {
    margin: 0 auto;
    padding: 1em 0;
    background-color: #2E4053;
    color: #F4F6F7;
  }

  h2 {
    text-align: center;
    font-family: "Source Serif Pro", Palatino, Georgia, serif;
  }

  div :global(a) {
    display: block;
    min-height: 2em;
    margin: 0;
    padding: 0.5em;
    border-top: 1px solid grey;
    text-align: center;
    font-family: sans-serif;
  }

  div :global(a:hover) {
    background-color: steelblue;
  }

  div :global(a), :global(a:visited) {
    text-decoration: none;
    color: white;
  }
</style>

<script>
  import Link from 'svelte-routing/Link.html';

  export default {
    components: { Link },
  };
</script>
